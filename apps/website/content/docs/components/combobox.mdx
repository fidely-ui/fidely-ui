---
title: Combobox
description: A single input field that combines the functionality of select and input.
---

<ExampleTabs name="combobox-basics" scope="combobox" />

## Usage

```tsx
import { Combobox } from '@fidely-ui/react'
```

```tsx
<Combobox.Root>
  <Combobox.Label />
  <Combobox.Control>
    <Combobox.Input />
    <Combobox.IndicatorGroup>
      <Combobox.ClearTrigger />
      <Combobox.Trigger />
    </Combobox.IndicatorGroup>
  </Combobox.Control>

  <Combobox.Positioner>
    <Combobox.Content>
      <Combobox.Empty />
      <Combobox.Item />

      <Combobox.ItemGroup>
        <Combobox.ItemGroupLabel />
        <Combobox.Item />
      </Combobox.ItemGroup>
    </Combobox.Content>
  </Combobox.Positioner>
</Combobox.Root>
```

## Examples

### Sizes

Use the **size** prop to adjust the size of the Select component.

<ExampleTabs name="combobox-size" scope="combobox" />

### Open on Click

Use the **openOnClick** prop to open the **Combobox** when the user clicks on the input.

<ExampleTabs name="combobox-open" scope="combobox" />

### Custom Objects

By default, the **Combobox** collection expects an array of objects with label and value properties. In some cases, you may need to deal with custom objects.

Use the **itemToString** and **itemToValue** props to map the custom object to the required interface.

```tsx
const items = [
  { name: 'JavaScript', id: 'js' },
  { name: 'TypeScript', id: 'ts' },
  { name: 'Python', id: 'py' },
  { name: 'Go', id: 'go' },
  { name: 'Rust', id: 'rs' },
]

const { contains } = useFilter({ sensitivity: 'base' })

const { collection } = useListCollection({
  initialItems: items,
  itemToString: (item) => item.name,
  itemToValue: (item) => item.id,
  filter: contains,
})
```

### With Persona

Use **Combobox** with **Persona** component

<ExampleTabs name="combobox-with-persona" scope="combobox" />

### Minimum Characters

Use the openOnChange prop to set a minimum number of characters before filtering the list.

```tsx
<Combobox.Root openOnChange={(e) => e.inputValue.length > 2} />
```

### Disabled

Pass the **disabled** prop to the **Combobox.Root** to disable the entire combobox.

<ExampleTabs name="combobox-disabled" scope="combobox" />

### Disabled Item

Disable specific items in the dropdown, add the disabled prop to the collection item.

```tsx
const items = [
  { label: 'Item 1', value: 'item-1', disabled: true },
  { label: 'Item 2', value: 'item-2' },
]

const { collection } = useListCollection({
  initialItems: items,
})
```

### Store

An alternative way to control the **Combobox** component is to use the **Combobox.RootProvider** component and the useCombobox store hook.

```tsx
import { Combobox, useCombobox } from '@fidely-ui/react'

function ComboboxDemo() {
  const combobox = useCombobox()

  return (
    <Combobox.RootProvider value={combobox}>{/* ... */}</Combobox.RootProvider>
  )
}
```

This way you can access the combobox state and methods from outside the combobox.

<ExampleTabs name="combobox-store" scope="combobox" />

### Limit Large Datasets

The recommended way of managing large lists is to use the limit property on the **useListCollection** hook.
This will limit the number of rendered items in the DOM to improve performance.

<ExampleTabs name="combobox-limits" scope="combobox" />

### Within Dialog

To use the **Combobox** within a dialog component, avoid wrapping the **Combobox.Positioner** within the **Portal**.

```tsx
;-(
  <Portal>
    <Combobox.Positioner>
      <Combobox.Content>{/* ... */}</Combobox.Content>
    </Combobox.Positioner>
    -
  </Portal>
)
```

If you use a Dialog and have set scrollBehavior="inside", you need to:

- Set the combobox positioning to fixed to avoid the combobox from being clipped by the dialog.
- Set hideWhenDetached to true to hide the combobox when the trigger is scrolled out of view.

```tsx
<Combobox.Root positioning={{ strategy: 'fixed', hideWhenDetached: true }}>
  {/* ... */}
</Combobox.Root>
```

## Props

### Root

| Prop                      | Type                                                             | Default                         | Description                                                                                                                                                                                                                           |
| :------------------------ | :--------------------------------------------------------------- | :------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `allowCustomValue`        | `boolean`                                                        | —                               | Whether to allow typing custom values in the input.                                                                                                                                                                                   |
| `as`                      | `React.ElementType`                                              | —                               | The underlying element to render.                                                                                                                                                                                                     |
| `asChild`                 | `boolean`                                                        | —                               | Uses the provided child element as the rendered element, merging its props and behavior.                                                                                                                                              |
| `autoFocus`               | `boolean`                                                        | —                               | Whether to autofocus the input on mount.                                                                                                                                                                                              |
| `closeOnSelect`           | `boolean`                                                        | —                               | Whether to close the combobox when an item is selected.                                                                                                                                                                               |
| `collection`              | `ListCollection<T>`                                              | —                               | The collection of items.                                                                                                                                                                                                              |
| `composite`               | `boolean`                                                        | `true`                          | Whether the combobox is composed with other composite widgets like tabs.                                                                                                                                                              |
| `defaultHighlightedValue` | `string`                                                         | —                               | The initial highlighted value of the combobox when rendered. Use when you don't need to control the highlighted value of the combobox.                                                                                                |
| `defaultInputValue`       | `string`                                                         | —                               | The initial value of the combobox's input when rendered. Use when you don't need to control the value of the combobox's input.                                                                                                        |
| `defaultOpen`             | `boolean`                                                        | —                               | The initial open state of the combobox when rendered. Use when you don't need to control the open state of the combobox.                                                                                                              |
| `defaultValue`            | `string[]`                                                       | `[]`                            | The initial value of the combobox's selected items when rendered. Use when you don't need to control the value of the combobox's selected items.                                                                                      |
| `disabled`                | `boolean`                                                        | —                               | Whether the combobox is disabled.                                                                                                                                                                                                     |
| `disableLayer`            | `boolean`                                                        | —                               | Whether to disable registering this a dismissable layer.                                                                                                                                                                              |
| `form`                    | `string`                                                         | —                               | The associate form of the combobox.                                                                                                                                                                                                   |
| `highlightedValue`        | `string`                                                         | —                               | The controlled highlighted value of the combobox.                                                                                                                                                                                     |
| `id`                      | `string`                                                         | —                               | The unique identifier of the component.                                                                                                                                                                                               |
| `immediate`               | `boolean`                                                        | —                               | Whether to synchronize the present change immediately or defer it to the next frame.                                                                                                                                                  |
| `inputBehavior`           | `'none' &#124; 'autohighlight' &#124; 'autocomplete'`            | `none`                          | Defines the auto-completion behavior of the combobox. • `autohighlight`: The first focused item is highlighted as the user types • `autocomplete`: Navigating the listbox with the arrow keys selects the item and updates the input. |
| `inputValue`              | `string`                                                         | —                               | The controlled value of the combobox's input.                                                                                                                                                                                         |
| `invalid`                 | `boolean`                                                        | —                               | Whether the combobox is invalid.                                                                                                                                                                                                      |
| `loopFocus`               | `boolean`                                                        | `true`                          | Whether to loop the keyboard navigation through the items.                                                                                                                                                                            |
| `multiple`                | `boolean`                                                        | —                               | Whether to allow multiple selection. **Good to know:** When `multiple` is `true`, the `selectionBehavior` is automatically set to `clear`. It is recommended to render the selected items in a separate container.                    |
| `name`                    | `string`                                                         | —                               | The `name` attribute of the combobox's input. Useful for form submission.                                                                                                                                                             |
| `Maps`                    | `(details: NavigateDetails) => void`                             | —                               | Function to navigate to the selected item.                                                                                                                                                                                            |
| `onFocusOutside`          | `(event: FocusOutsideEvent) => void`                             | —                               | Function called when the focus is moved outside the component.                                                                                                                                                                        |
| `onInputValueChange`      | `(details: OpenChangeDetails) => void`                           | —                               | Function called when the input value changes.                                                                                                                                                                                         |
| `onPointerDownOutside`    | `(event: PointerDownOutsideEvent) => void`                       | —                               | Function called when the pointer is pressed down outside the component.                                                                                                                                                               |
| `onSelect`                | `(details: SelectionDetails) => void`                            | —                               | Function called when an item is selected.                                                                                                                                                                                             |
| `onValueChange`           | `(details: ValueChangeDetails<T>) => void`                       | —                               | Function called when a new item is selected.                                                                                                                                                                                          |
| `open`                    | `boolean`                                                        | —                               | The controlled open state of the combobox.                                                                                                                                                                                            |
| `openOnChange`            | `boolean &#124; ((details: InputValueChangeDetails) => boolean)` | `true`                          | Whether to open the combobox when the input value changes.                                                                                                                                                                            |
| `openOnClick`             | `boolean`                                                        | `false`                         | Whether to open the combobox popup on initial click on the input.                                                                                                                                                                     |
| `openOnKeyPress`          | `boolean`                                                        | `true`                          | Whether to open the combobox on arrow key press.                                                                                                                                                                                      |
| `placeholder`             | `string`                                                         | —                               | The placeholder text of the combobox's input.                                                                                                                                                                                         |
| `positioning`             | `PositioningOptions`                                             | `{ placement: "bottom-start" }` | The positioning options to dynamically position the menu.                                                                                                                                                                             |
| `required`                | `boolean`                                                        | —                               | Whether the combobox is required.                                                                                                                                                                                                     |
| `selectionBehavior`       | `'replace' &#124; 'clear' &#124; 'preserve'`                     | `'replace'`                     | The behavior of the combobox input when an item is selected.                                                                                                                                                                          |
| `size`                    | `'xs' &#124; 'sm' &#124; 'md' &#124; 'lg'`                       | `md`                            | The size of the component.                                                                                                                                                                                                            |
| `translations`            | `IntlTranslations`                                               | —                               | Specifies the localized strings that identifies the accessibility elements and their states.                                                                                                                                          |
| `unmountOnExit`           | `boolean`                                                        | `false`                         | Whether to unmount on exit.                                                                                                                                                                                                           |
| `value`                   | `string[]`                                                       | —                               | The controlled value of the combobox's selected items.                                                                                                                                                                                |

---

### Item

| Prop           | Type      | Default | Description                                                                |
| -------------- | --------- | ------- | -------------------------------------------------------------------------- |
| `asChild`      | `boolean` | —       | Uses the provided child element as the rendered element, merging behavior. |
| `item`         | `any`     | —       | The item to render.                                                        |
| `persistFocus` | `boolean` | —       | Whether hovering outside should clear the highlighted state.               |
| `as`           | `boolean` | —       | The underlying element to render..                                         |
